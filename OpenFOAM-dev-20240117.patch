 Allwmake                                           |  5 +-
 applications/Allwmake                              |  2 +
 .../foamMultiRun/regionSolvers/regionSolvers.C     |  2 +-
 .../fluent3DMeshToFoam/fluent3DMeshToFoam.L        |  4 +-
 .../postProcessing/graphics/PVReaders/Allwmake     |  6 ++
 bin/foamMonitor                                    | 15 +++-
 bin/paraFoam                                       |  6 ++
 bin/tools/RunFunctions                             |  3 +
 etc/bashrc                                         | 65 ++++++++++++++----
 etc/config.csh/mpi                                 |  7 +-
 etc/config.csh/settings                            | 27 ++++++--
 etc/config.csh/unset                               | 36 +++++++---
 etc/config.sh/mpi                                  |  5 +-
 etc/config.sh/settings                             | 18 ++++-
 etc/config.sh/unset                                | 25 +++++--
 etc/cshrc                                          | 55 ++++++++++++---
 src/Allwmake                                       |  2 +
 src/OSspecific/POSIX/POSIX.C                       | 35 +++++++++-
 src/OSspecific/POSIX/clockTime/clockTime.H         |  3 +
 src/OSspecific/POSIX/fileStat.C                    |  2 +
 src/OSspecific/POSIX/printStack.C                  | 43 ++++++++++--
 src/OSspecific/POSIX/signals/sigFpe.C              | 79 ++++++++++++++++++++--
 src/OSspecific/POSIX/signals/sigFpe.H              | 12 +++-
 src/OpenFOAM/Make/files                            |  2 +
 src/OpenFOAM/containers/Lists/UList/UList.C        |  1 +
 .../db/dynamicLibrary/dynamicCode/dynamicCode.C    |  4 ++
 .../db/dynamicLibrary/dynamicCode/dynamicCode.H    |  4 ++
 src/OpenFOAM/meshes/multiRegion/MultiRegionRefs.C  |  2 +-
 src/OpenFOAM/primitives/Scalar/doubleFloat.H       | 40 +++++++++++
 src/OpenFOAM/primitives/hashes/Hasher/Hasher.C     |  2 +-
 src/OpenFOAM/primitives/ints/int64/int64.H         |  5 ++
 src/OpenFOAM/primitives/ints/int64/int64IO.C       | 12 ++++
 src/OpenFOAM/primitives/ints/uint/uint.H           |  1 +
 src/OpenFOAM/primitives/ints/uint64/uint64.H       |  4 ++
 src/OpenFOAM/primitives/ints/uint64/uint64IO.C     |  8 +++
 src/OpenFOAM/primitives/strings/word/wordIOList.C  |  2 +-
 src/fvAgglomerationMethods/Allwmake                | 10 ++-
 .../MGridGenGamgAgglomeration/Make/options         | 14 ++--
 src/parallel/decompose/Allwmake                    |  5 +-
 src/parallel/decompose/metisDecomp/Allwmake        | 14 +++-
 src/parallel/decompose/ptscotchDecomp/Make/options | 16 +++--
 src/parallel/decompose/scotchDecomp/Make/options   | 10 +--
 src/parallel/parallel/domainDecomposition.C        |  4 +-
 .../parallel/domainDecompositionDecompose.C        |  6 +-
 .../parallel/domainDecompositionNonConformal.C     |  2 +-
 src/renumber/SloanRenumber/Make/options            | 14 +++-
 .../basic/basicThermo/basicThermo.C                |  2 +-
 wmake/makefiles/files                              |  2 +-
 wmake/makefiles/general                            |  4 ++
 wmake/rules/General/transform                      |  1 -
 wmake/src/Makefile                                 |  2 +
 wmake/wmake                                        |  5 ++
 wmake/wmakeLnInclude                               | 13 ++++
 wmake/wmakeLnIncludeAll                            |  1 +
 54 files changed, 567 insertions(+), 102 deletions(-)

diff --git a/Allwmake b/Allwmake
index 3f6a7523d2..00810aff6e 100755
--- a/Allwmake
+++ b/Allwmake
@@ -12,11 +12,13 @@ wmakeCheckPwd "$WM_PROJECT_DIR" || {
     exit 1
 }
 
+[ "$(uname -s)" = "Darwin" ] || {
 [ -n "$FOAM_EXT_LIBBIN" ] || {
     echo "Allwmake error: FOAM_EXT_LIBBIN not set"
     echo "    Check the OpenFOAM entries in your dot-files and source them."
     exit 1
 }
+}
 
 # Compile wmake support applications
 (cd wmake/src && make)
@@ -26,7 +28,8 @@ if [ -d "$WM_THIRD_PARTY_DIR" ]
 then
     $WM_THIRD_PARTY_DIR/Allwmake
 else
-    echo "Allwmake: no ThirdParty directory found - skipping"
+    [ "$(uname -s)" = "Darwin" ] \
+        || echo "Allwmake: no ThirdParty directory found - skipping"
 fi
 
 # Compile OpenFOAM libraries and applications
diff --git a/applications/Allwmake b/applications/Allwmake
index d11e7c8e1d..c653bfaacc 100755
--- a/applications/Allwmake
+++ b/applications/Allwmake
@@ -12,11 +12,13 @@ wmakeCheckPwd "$WM_PROJECT_DIR/applications" || {
     exit 1
 }
 
+[ "$(uname -s)" = "Darwin" ] || {
 [ -n "$FOAM_EXT_LIBBIN" ] || {
     echo "Allwmake error: FOAM_EXT_LIBBIN not set"
     echo "    Check the OpenFOAM entries in your dot-files and source them."
     exit 1
 }
+}
 
 wmake -all $targetType solvers
 modules/Allwmake $targetType $*
diff --git a/applications/solvers/foamMultiRun/regionSolvers/regionSolvers.C b/applications/solvers/foamMultiRun/regionSolvers/regionSolvers.C
index 1fc8d5a125..af79364936 100644
--- a/applications/solvers/foamMultiRun/regionSolvers/regionSolvers.C
+++ b/applications/solvers/foamMultiRun/regionSolvers/regionSolvers.C
@@ -136,7 +136,7 @@ Foam::regionSolvers::regionSolvers(const Time& runTime)
         solvers_.set(i, solver::New(solverName, regions_[i]));
 
         prefixes_[i] = regionName;
-        nRegionNameChars = max(nRegionNameChars, regionName.size());
+        nRegionNameChars = std::max(nRegionNameChars, regionName.size());
     }
 
     nRegionNameChars++;
diff --git a/applications/utilities/mesh/conversion/fluent3DMeshToFoam/fluent3DMeshToFoam.L b/applications/utilities/mesh/conversion/fluent3DMeshToFoam/fluent3DMeshToFoam.L
index 91e4ff09a5..b97c3bf524 100644
--- a/applications/utilities/mesh/conversion/fluent3DMeshToFoam/fluent3DMeshToFoam.L
+++ b/applications/utilities/mesh/conversion/fluent3DMeshToFoam/fluent3DMeshToFoam.L
@@ -1078,8 +1078,8 @@ int main(int argc, char *argv[])
                             if
                             (
                                 nbrType != type
-                             && nbrName(min(name.size(), nbrName.size()))
-                             == name(min(name.size(), nbrName.size()))
+                             && nbrName(std::min(name.size(), nbrName.size()))
+                             == name(std::min(name.size(), nbrName.size()))
                             )
                             {
                                 nbrPatchis[nbrPatchi] = patchi;
diff --git a/applications/utilities/postProcessing/graphics/PVReaders/Allwmake b/applications/utilities/postProcessing/graphics/PVReaders/Allwmake
index f270c064b0..7e474f9093 100755
--- a/applications/utilities/postProcessing/graphics/PVReaders/Allwmake
+++ b/applications/utilities/postProcessing/graphics/PVReaders/Allwmake
@@ -4,6 +4,12 @@ cd ${0%/*} || exit 1    # Run from this directory
 # Parse arguments for library compilation
 . $WM_PROJECT_DIR/wmake/scripts/AllwmakeParseArguments
 
+if [ "$(uname -s)" = "Darwin" ]
+then
+    echo "Skipping PVReaders on macOS."
+    exit 0
+fi
+
 if [ ! -d "$ParaView_DIR" ]
 then
     echo "    Warning: ParaView not found in $ParaView_DIR. Skipping."
diff --git a/bin/foamMonitor b/bin/foamMonitor
index 32b62d7929..6037713029 100755
--- a/bin/foamMonitor
+++ b/bin/foamMonitor
@@ -64,9 +64,14 @@ error() {
 
 plotFileHeader() {
     cat<<EOF
-set term $gpterminal $size
+selected_terminal = 'x11'
+for [t in "wxt qt"] if (strstrt(GPVAL_TERMINALS, t)) selected_terminal = t
+set term selected_terminal $gpterminal $size
 $logscale
+$explabels
 $yrange
+set size ratio 0.62111801242236
+set grid
 set ytics format "$yticFormat"
 set title "$title"
 set xlabel "$xlabel"
@@ -92,13 +97,16 @@ isInteger() {
 idle=60
 refresh=10
 logscale=""
+explabels=""
 yrange=""
 yticFormat="%g"
 title="Data Monitoring"
 size=""
-gpterminal='x11 1 font "helvetica,17" linewidth 1.5 persist noraise'
+gpterminal='1 font "helvetica,17" linewidth 1.5 persist noraise'
 
 command -v gnuplot >/dev/null 2>&1 || error "Gnuplot not installed"
+STAT="stat --format=%Y"
+[ "$(uname -s)" = "Darwin" ] && STAT="stat -f %m"
 
 # parse options
 while [ "$#" -gt 0 ]
@@ -114,6 +122,7 @@ do
         ;;
     -l | -logscale)
         logscale="set logscale y"
+	explabels='set format y "%.1g"'
         yticFormat="%1.e"
         shift 1
         ;;
@@ -202,7 +211,7 @@ pid=$!
 
 while true
 do
-    mod_time=$(stat --format=%Y "$file")
+    mod_time=$($STAT "$file")
     idle_ago=$(( $(date +%s) - idle ))
     test "$mod_time" -gt "$idle_ago" || break
     sleep "$refresh"
diff --git a/bin/paraFoam b/bin/paraFoam
index aab19870ba..d2ca9569bc 100755
--- a/bin/paraFoam
+++ b/bin/paraFoam
@@ -101,6 +101,12 @@ extension=OpenFOAM
 
 requirePV=1
 
+if [ "$(uname -s)" = "Darwin" ]
+then
+    extension=foam
+    requirePV=0
+fi
+
 # Parse options
 while [ "$#" -gt 0 ]
 do
diff --git a/bin/tools/RunFunctions b/bin/tools/RunFunctions
index 1f21022b23..b576550339 100644
--- a/bin/tools/RunFunctions
+++ b/bin/tools/RunFunctions
@@ -28,6 +28,9 @@
 #     Miscellaneous functions for running tutorial cases
 #------------------------------------------------------------------------------
 
+[ -z "$DYLD_LIBRARY_PATH" -a -n "$FOAM_DYLD_LIBRARY_PATH" ] \
+    && export DYLD_LIBRARY_PATH="$FOAM_DYLD_LIBRARY_PATH"
+
 isTest()
 {
     for i in "$@"; do
diff --git a/etc/bashrc b/etc/bashrc
index 99aa258f56..e5d7d9c047 100644
--- a/etc/bashrc
+++ b/etc/bashrc
@@ -52,6 +52,16 @@ export FOAM_INST_DIR=$HOME/$WM_PROJECT
 # END OF (NORMAL) USER EDITABLE PART
 ################################################################################
 
+_foam_on_macos()
+{
+    if [ "$(uname -s)" = "Darwin" ]
+    then
+        return 0
+    else
+        return 1
+    fi
+}
+
 # The default environment variables below can be overridden in a prefs.sh file
 # located in ~/.OpenFOAM/$WM_PROJECT_VERSION, ~/.OpenFOAM,
 # $FOAM_INST_DIR/site/$WM_PROJECT_VERSION or $FOAM_INST_DIR/site
@@ -63,6 +73,7 @@ export WM_COMPILER_TYPE=system
 #- Compiler:
 #    WM_COMPILER = Gcc | Gcc48 ... Gcc62 | Clang | Icx
 export WM_COMPILER=Gcc
+_foam_on_macos && export WM_COMPILER=Clang
 unset WM_COMPILER_ARCH WM_COMPILER_LIB_ARCH
 
 #- Memory addressing:
@@ -125,7 +136,8 @@ fi
 
 # Location of third-party software
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-export WM_THIRD_PARTY_DIR=$WM_PROJECT_INST_DIR/ThirdParty-$WM_PROJECT_VERSION
+_foam_on_macos \
+    || export WM_THIRD_PARTY_DIR=$WM_PROJECT_INST_DIR/ThirdParty-$WM_PROJECT_VERSION
 
 if [ -d "$WM_THIRD_PARTY_DIR" ]
 then
@@ -154,9 +166,10 @@ export WM_PROJECT_USER_DIR=$HOME/$WM_PROJECT/$USER-$WM_PROJECT_VERSION
 # Source initialisation functions
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 . $WM_PROJECT_DIR/etc/config.sh/functions
+_foam_on_macos && . $WM_PROJECT_DIR/etc/config.sh/mac/functions
 
 # Add in preset user or site preferences:
-_foamSource `$WM_PROJECT_DIR/bin/foamEtcFile prefs.sh`
+_foamSource $($WM_PROJECT_DIR/bin/foamEtcFile prefs.sh)
 
 # Evaluate command-line parameters of the form "param=keyword" or unset
 # parameters with "param="
@@ -168,16 +181,27 @@ _foamParams $@
 foamClean=$WM_PROJECT_DIR/bin/foamCleanPath
 
 #- Clean PATH
-cleaned=`$foamClean "$PATH" "$foamOldDirs"` && PATH="$cleaned"
+cleaned=$($foamClean "$PATH" "$foamOldDirs") && PATH="$cleaned"
 
-#- Clean LD_LIBRARY_PATH
-cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"` \
-    && LD_LIBRARY_PATH="$cleaned"
+if _foam_on_macos
+then
+    #- Clean DYLD_LIBRARY_PATH on macOS
+    cleaned=$($foamClean "$DYLD_LIBRARY_PATH" "$foamOldDirs") \
+        && DYLD_LIBRARY_PATH="$cleaned"
+    export DYLD_LIBRARY_PATH
+    FOAM_DYLD_LIBRARY_PATH="$DYDL_LIBRARY_PATH"
+    export FOAM_DYLD_LIBRARY_PATH
+else
+    #- Clean LD_LIBRARY_PATH
+    cleaned=$($foamClean "$LD_LIBRARY_PATH" "$foamOldDirs") \
+        && LD_LIBRARY_PATH="$cleaned"
+    export LD_LIBRARY_PATH
+fi
 
 #- Clean MANPATH
-cleaned=`$foamClean "$MANPATH" "$foamOldDirs"` && MANPATH="$cleaned"
+cleaned=$($foamClean "$MANPATH" "$foamOldDirs") && MANPATH="$cleaned"
 
-export PATH LD_LIBRARY_PATH MANPATH
+export PATH MANPATH
 
 
 # Source project setup files
@@ -189,7 +213,12 @@ _foamSource $WM_PROJECT_DIR/etc/config.sh/aliases
 # Source user setup files for optional packages
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/mpi`
-_foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/paraview`
+if _foam_on_macos
+then
+    _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/mac/paraview`
+else
+    _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/paraview`
+fi
 _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/ensight`
 _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/gperftools`
 
@@ -199,13 +228,23 @@ _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.sh/gperftools`
 #- Clean PATH
 cleaned=`$foamClean "$PATH"` && PATH="$cleaned"
 
-#- Clean LD_LIBRARY_PATH
-cleaned=`$foamClean "$LD_LIBRARY_PATH"` && LD_LIBRARY_PATH="$cleaned"
+if _foam_on_macos
+then
+    #- Clean DYLD_LIBRARY_PATH
+    cleaned=`$foamClean "$DYLD_LIBRARY_PATH"` && DYLD_LIBRARY_PATH="$cleaned"
+    export DYLD_LIBRARY_PATH
+    FOAM_DYLD_LIBRARY_PATH="$DYLD_LIBRARY_PATH"
+    export FOAM_DYLD_LIBRARY_PATH
+else
+    #- Clean LD_LIBRARY_PATH
+    cleaned=`$foamClean "$LD_LIBRARY_PATH"` && LD_LIBRARY_PATH="$cleaned"
+    export LD_LIBRARY_PATH
+fi
 
 #- Clean MANPATH (trailing ':' to find system pages)
 cleaned=`$foamClean "$MANPATH"`: && MANPATH="$cleaned"
 
-export PATH LD_LIBRARY_PATH MANPATH
+export PATH MANPATH
 
 #- Clean LD_PRELOAD
 if [ -n "$LD_PRELOAD" ]
@@ -224,6 +263,8 @@ unset cleaned foamClean foamOldDirs
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 . $WM_PROJECT_DIR/etc/config.sh/functions
 
+_foam_on_macos && . $WM_PROJECT_DIR/etc/config.sh/mac/functions
+
 # Source the bash completion file:
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 [ "$BASH" ] && . $WM_PROJECT_DIR/etc/config.sh/bash_completion
diff --git a/etc/config.csh/mpi b/etc/config.csh/mpi
index 78b14e4742..db7040a513 100644
--- a/etc/config.csh/mpi
+++ b/etc/config.csh/mpi
@@ -262,7 +262,10 @@ endsw
 # Add (non-dummy) MPI implementation
 # Dummy MPI already added to LD_LIBRARY_PATH and has no external libraries
 if ( "$FOAM_MPI" != dummy ) then
-    _foamAddLib ${FOAM_LIBBIN}/${FOAM_MPI}:${FOAM_EXT_LIBBIN}/${FOAM_MPI}
+    if ($?FOAM_EXT_LIBBIN) then
+        _foamAddLib :${FOAM_EXT_LIBBIN}/${FOAM_MPI}
+    endif
+    _foamAddLib ${FOAM_LIBBIN}/${FOAM_MPI}
 endif
 
 
@@ -279,4 +282,4 @@ else
     setenv MPI_BUFFER_SIZE $minBufferSize
 endif
 
-#------------------------------------------------------------------------------
+#-------------------- vi: set ft=tcsh et sw=4 ts=4 sts=4: ---------------------
diff --git a/etc/config.csh/settings b/etc/config.csh/settings
index 15bb9b725b..4260b3d621 100644
--- a/etc/config.csh/settings
+++ b/etc/config.csh/settings
@@ -32,8 +32,12 @@
 
 # Prefix to PATH
 alias _foamAddPath 'setenv PATH \!*\:${PATH}'
-# Prefix to LD_LIBRARY_PATH
-alias _foamAddLib 'setenv LD_LIBRARY_PATH \!*\:${LD_LIBRARY_PATH}'
+# Prefix to [FOAM_][DY]LD_LIBRARY_PATH
+if ($foamDarwin) then
+    alias _foamAddLib 'setenv FOAM_DYLD_LIBRARY_PATH \!*\:${FOAM_DYLD_LIBRARY_PATH}; setenv DYLD_LIBRARY_PATH \!*\:${DYLD_LIBRARY_PATH}'
+else
+    alias _foamAddLib 'setenv LD_LIBRARY_PATH \!*\:${LD_LIBRARY_PATH}'
+endif
 # Prefix to MANPATH
 alias _foamAddMan 'setenv MANPATH \!*\:${MANPATH}'
 
@@ -129,6 +133,13 @@ case SunOS:
     setenv WM_LDFLAGS '-mabi=64 -G0'
     breaksw
 
+case Darwin:
+    setenv WM_ARCH darwin64
+    setenv WM_COMPILER_LIB_ARCH 64
+    setenv WM_CC 'clang'
+    setenv WM_CXX 'clang++'
+    breaksw
+
 default:
     echo
     echo "Your '$WM_ARCH' operating system is not supported by this release"
@@ -155,7 +166,9 @@ setenv FOAM_APPBIN $WM_PROJECT_DIR/platforms/$WM_OPTIONS/bin
 setenv FOAM_LIBBIN $WM_PROJECT_DIR/platforms/$WM_OPTIONS/lib
 
 # External (ThirdParty) libraries
-setenv FOAM_EXT_LIBBIN $WM_THIRD_PARTY_DIR/platforms/$WM_ARCH$WM_COMPILER$WM_PRECISION_OPTION$WM_LABEL_OPTION/lib
+if (${?WM_THIRD_PARTY_DIR}) then
+    setenv FOAM_EXT_LIBBIN $WM_THIRD_PARTY_DIR/platforms/$WM_ARCH$WM_COMPILER$WM_PRECISION_OPTION$WM_LABEL_OPTION/lib
+endif
 
 # Site-specific directory
 if ( $?WM_PROJECT_SITE ) then
@@ -206,7 +219,11 @@ endif
 unset siteDir
 
 # Make sure to pick up dummy versions of external libraries last
-_foamAddLib  ${FOAM_USER_LIBBIN}:${FOAM_SITE_LIBBIN}:${FOAM_LIBBIN}:${FOAM_EXT_LIBBIN}:${FOAM_LIBBIN}/dummy
+_foamAddLib ${FOAM_LIBBIN}/dummy
+if (${?FOAM_EXT_LIBBIN}) then
+    _foamAddLib ${FOAM_EXT_LIBBIN}
+endif
+_foamAddLib  ${FOAM_USER_LIBBIN}:${FOAM_SITE_LIBBIN}:${FOAM_LIBBIN}
 
 # Compiler settings
 # ~~~~~~~~~~~~~~~~~
@@ -342,4 +359,4 @@ endsw
 unset minBufferSize
 unsetenv WM_COMPILER_TYPE
 
-#------------------------------------------------------------------------------
+#-------------------- vi: set ft=tcsh et sw=4 ts=4 sts=4: ---------------------
diff --git a/etc/config.csh/unset b/etc/config.csh/unset
index 12dbe46593..cf3eaf553d 100644
--- a/etc/config.csh/unset
+++ b/etc/config.csh/unset
@@ -29,6 +29,8 @@
 #
 #------------------------------------------------------------------------------
 
+@ foamDarwin = (`uname -s` == "Darwin")
+
 # Clean standard environment variables (PATH, LD_LIBRARY_PATH, MANPATH)
 
 unset foamClean
@@ -38,7 +40,10 @@ if ( $?WM_PROJECT_DIR ) then
 endif
 
 # The old dirs to be cleaned from the environment variables
-set foamOldDirs="$WM_PROJECT_DIR $WM_THIRD_PARTY_DIR $HOME/$WM_PROJECT/$LOGNAME $FOAM_SITE_APPBIN $FOAM_SITE_LIBBIN"
+set foamOldDirs="$WM_PROJECT_DIR $HOME/$WM_PROJECT/$LOGNAME $FOAM_SITE_APPBIN $FOAM_SITE_LIBBIN"
+if ( ${?WM_THIRD_PARTY_DIR} ) then
+   set foamOldDirs="$foamOldDirs $WM_THIRD_PARTY_DIR"
+endif
 if ( $?WM_PROJECT_SITE ) then
    set foamOldDirs="$foamOldDirs $WM_PROJECT_SITE"
 endif
@@ -55,6 +60,7 @@ unsetenv WM_ARCH_OPTION
 unsetenv WM_CC
 unsetenv WM_CFLAGS
 unsetenv WM_COMPILER
+unsetenv WM_COMPILER_ARCH
 unsetenv WM_COMPILER_TYPE
 unsetenv WM_COMPILER_LIB_ARCH
 unsetenv WM_COMPILE_OPTION
@@ -78,7 +84,8 @@ unsetenv WM_PROJECT_SITE
 unsetenv WM_PROJECT_USER_DIR
 unsetenv WM_PROJECT_VERSION
 unsetenv WM_SCHEDULER
-unsetenv WM_THIRD_PARTY_DIR
+if ($?WM_THIRD_PARTY_DIR) \
+    unsetenv WM_THIRD_PARTY_DIR
 
 
 #------------------------------------------------------------------------------
@@ -139,11 +146,21 @@ if ( $?foamClean ) then
     set cleaned=`$foamClean "$PATH" "$foamOldDirs"`
     if ( $status == 0 ) setenv PATH $cleaned
 
-    if ($?LD_LIBRARY_PATH) then
-        set cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"`
-        if ( $status == 0 ) setenv LD_LIBRARY_PATH $cleaned
-
-        if ( ${%LD_LIBRARY_PATH} == 0 ) unsetenv LD_LIBRARY_PATH
+    if ($foamDarwin) then
+        if ($?FOAM_DYLD_LIBRARY_PATH) then
+            set cleaned=`$foamClean "$FOAM_DYLD_LIBRARY_PATH" "$foamOldDirs"`
+            if ( $status == 0 ) setenv DYLD_LIBRARY_PATH $cleaned
+
+            if ( ${%DYLD_LIBRARY_PATH} == 0 ) unsetenv DYLD_LIBRARY_PATH
+            unsetenv FOAM_DYLD_LIBRARY_PATH
+        endif
+    else
+        if ($?LD_LIBRARY_PATH) then
+            set cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"`
+            if ( $status == 0 ) setenv LD_LIBRARY_PATH $cleaned
+
+            if ( ${%LD_LIBRARY_PATH} == 0 ) unsetenv LD_LIBRARY_PATH
+        endif
     endif
 
     if ($?MANPATH) then
@@ -156,7 +173,7 @@ if ( $?foamClean ) then
 endif
 
 
-unset cleaned foamClean foamOldDirs
+unset cleaned foamClean foamOldDirs foamDarwin
 
 #------------------------------------------------------------------------------
 # Cleanup aliases
@@ -166,6 +183,7 @@ unalias wm64
 unalias wm32
 unalias wmSP
 unalias wmDP
+unalias wmLP
 
 unalias wmRefresh
 unalias wmUnset
@@ -188,4 +206,4 @@ unalias foamVersion
 unalias foamPV
 
 
-#------------------------------------------------------------------------------
+#-------------------- vi: set ft=tcsh et sw=4 ts=4 sts=4: ---------------------
diff --git a/etc/config.sh/mpi b/etc/config.sh/mpi
index b368cc51ad..56bca560b2 100644
--- a/etc/config.sh/mpi
+++ b/etc/config.sh/mpi
@@ -47,7 +47,7 @@ SYSTEMOPENMPI)
 
     # Bit of a hack: strip off 'lib' and hope this is the path to openmpi
     # include files and libraries.
-    export MPI_ARCH_PATH="${libDir%/*}"
+    _foam_on_macos || export MPI_ARCH_PATH="${libDir%/*}"
 
     _foamAddLib     $libDir
     unset libDir
@@ -263,7 +263,8 @@ esac
 # Dummy MPI already added to LD_LIBRARY_PATH and has no external libraries
 if [ "$FOAM_MPI" != dummy ]
 then
-    _foamAddLib $FOAM_LIBBIN/$FOAM_MPI:$FOAM_EXT_LIBBIN/$FOAM_MPI
+    _foamAddLib $FOAM_LIBBIN/$FOAM_MPI
+    [ -n "$FOAM_EXT_LIBBIN" ] && _foamAddLib $FOAM_EXT_LIBBIN/$FOAM_MPI
 fi
 
 
diff --git a/etc/config.sh/settings b/etc/config.sh/settings
index b7540d195f..7430f181f4 100644
--- a/etc/config.sh/settings
+++ b/etc/config.sh/settings
@@ -131,7 +131,12 @@ SunOS)
     export WM_CXXFLAGS='-mabi=64 -fPIC -std=c++0x'
     export WM_LDFLAGS='-mabi=64 -G0'
     ;;
-
+Darwin)
+    WM_ARCH=darwin64
+    export WM_COMPILER_ARCH=64
+    export WM_CC=clang
+    export WM_CXX=clang++
+    ;;
 *)    # An unsupported operating system
     /bin/cat <<USAGE 1>&2
 
@@ -159,7 +164,7 @@ export FOAM_APPBIN=$WM_PROJECT_DIR/platforms/$WM_OPTIONS/bin
 export FOAM_LIBBIN=$WM_PROJECT_DIR/platforms/$WM_OPTIONS/lib
 
 # External (ThirdParty) libraries
-export FOAM_EXT_LIBBIN=$WM_THIRD_PARTY_DIR/platforms/$WM_ARCH$WM_COMPILER$WM_PRECISION_OPTION$WM_LABEL_OPTION/lib
+_foam_on_macos || export FOAM_EXT_LIBBIN=$WM_THIRD_PARTY_DIR/platforms/$WM_ARCH$WM_COMPILER$WM_PRECISION_OPTION$WM_LABEL_OPTION/lib
 
 # Site-specific directory
 siteDir="${WM_PROJECT_SITE:-$WM_PROJECT_INST_DIR/site}"
@@ -208,7 +213,12 @@ fi
 unset siteDir
 
 # Make sure to pick up dummy versions of external libraries last
-_foamAddLib  $FOAM_USER_LIBBIN:$FOAM_SITE_LIBBIN:$FOAM_LIBBIN:$FOAM_EXT_LIBBIN:$FOAM_LIBBIN/dummy
+if [ -n "$FOAM_EXT_LIBBIN" ]
+then
+    _foamAddLib  $FOAM_USER_LIBBIN:$FOAM_SITE_LIBBIN:$FOAM_LIBBIN:$FOAM_EXT_LIBBIN:$FOAM_LIBBIN/dummy
+else
+    _foamAddLib  $FOAM_USER_LIBBIN:$FOAM_SITE_LIBBIN:$FOAM_LIBBIN:$FOAM_LIBBIN/dummy
+fi
 
 # Compiler settings
 # ~~~~~~~~~~~~~~~~~
@@ -297,4 +307,6 @@ system)
     ;;
 esac
 
+_foam_on_macos && _foam_increase_max_open_files 4096
+
 #------------------------------------------------------------------------------
diff --git a/etc/config.sh/unset b/etc/config.sh/unset
index 9daa01a9fd..6250bad0ce 100644
--- a/etc/config.sh/unset
+++ b/etc/config.sh/unset
@@ -29,6 +29,9 @@
 #
 #------------------------------------------------------------------------------
 
+foamDarwin=0
+[ "$(uname -s)" = "Darwin" ] && foamDarwin=1
+
 # Clean standard environment variables (PATH, LD_LIBRARY_PATH, MANPATH)
 foamClean=$WM_PROJECT_DIR/bin/foamCleanPath
 [ -f "$foamClean" -a -x "$foamClean" ] || unset foamClean
@@ -46,6 +49,7 @@ unset WM_ARCH_OPTION
 unset WM_CC
 unset WM_CFLAGS
 unset WM_COMPILER
+unset WM_COMPILER_ARCH
 unset WM_COMPILER_TYPE
 unset WM_COMPILER_LIB_ARCH
 unset WM_COMPILE_OPTION
@@ -69,7 +73,7 @@ unset WM_PROJECT_SITE
 unset WM_PROJECT_USER_DIR
 unset WM_PROJECT_VERSION
 unset WM_SCHEDULER
-unset WM_THIRD_PARTY_DIR
+[ -n "$WM_THIRD_PARTY_DIR" ] && unset WM_THIRD_PARTY_DIR
 
 
 #------------------------------------------------------------------------------
@@ -133,12 +137,24 @@ unset PV_PLUGIN_PATH
 if [ -n "$foamClean" ]
 then
     cleaned=`$foamClean "$PATH" "$foamOldDirs"` && PATH="$cleaned"
-    cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"` && LD_LIBRARY_PATH="$cleaned"
+    if [ $foamDarwin ]
+    then
+        cleaned=`$foamClean "$FOAM_DYLD_LIBRARY_PATH" "$foamOldDirs"` && FOAM_DYLD_LIBRARY_PATH="$cleaned"
+        DYLD_LIBRARY_PATH=$FOAM_DYLD_LIBRARY_PATH
+    else
+        cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"` && LD_LIBRARY_PATH="$cleaned"
+    fi
     cleaned=`$foamClean "$MANPATH" "$foamOldDirs"` && MANPATH="$cleaned"
 fi
 
 
-[ -n "$LD_LIBRARY_PATH" ] || unset LD_LIBRARY_PATH
+if [ $foamDarwin ]
+then
+    [ -n "$DYLD_LIBRARY_PATH" ] || unset DYLD_LIBRARY_PATH
+    unset FOAM_DYLD_LIBRARY_PATH
+else
+    [ -n "$LD_LIBRARY_PATH" ] || unset LD_LIBRARY_PATH
+fi
 [ -n "$MANPATH" ] || unset MANPATH
 [ -n "$LD_PRELOAD" ] || unset LD_PRELOAD
 
@@ -154,6 +170,7 @@ unalias wm64
 unalias wm32
 unalias wmSP
 unalias wmDP
+unalias wmLP
 
 unalias wmUnset
 
@@ -176,4 +193,4 @@ unset foamVersion
 unset foamPV
 
 
-#------------------------------------------------------------------------------
+#--------------------- vi: set ft=sh et sw=4 ts=4 sts=4: ----------------------
diff --git a/etc/cshrc b/etc/cshrc
index d2c5194f8d..f779dacca8 100644
--- a/etc/cshrc
+++ b/etc/cshrc
@@ -51,6 +51,8 @@ setenv FOAM_INST_DIR `lsof +p $$ |& grep -oE '/.*'$WM_PROJECT'[^/]*/etc/cshrc' |
 # END OF (NORMAL) USER EDITABLE PART
 ################################################################################
 
+@ foamDarwin = ( `uname -s` == "Darwin" )
+
 # The default environment variables below can be overridden in a prefs.sh file
 # located in ~/.OpenFOAM/$WM_PROJECT_VERSION, ~/.OpenFOAM,
 # $FOAM_INST_DIR/site/$WM_PROJECT_VERSION or $FOAM_INST_DIR/site
@@ -62,6 +64,7 @@ setenv WM_COMPILER_TYPE system
 #- Compiler:
 #    WM_COMPILER = Gcc | Gcc48 ... Gcc62 | Clang | Icx
 setenv WM_COMPILER Gcc
+if ($foamDarwin) setenv WM_COMPILER Clang
 unsetenv WM_COMPILER_ARCH WM_COMPILER_LIB_ARCH
 
 #- Memory addressing:
@@ -127,7 +130,7 @@ setenv WM_PROJECT_DIR $WM_PROJECT_INST_DIR/$WM_PROJECT-$WM_PROJECT_VERSION
 
 # Location of third-party software
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-setenv WM_THIRD_PARTY_DIR $WM_PROJECT_INST_DIR/ThirdParty-$WM_PROJECT_VERSION
+if (! $foamDarwin) setenv WM_THIRD_PARTY_DIR $WM_PROJECT_INST_DIR/ThirdParty-$WM_PROJECT_VERSION
 
 # Location of site-specific templates etc
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
@@ -183,9 +186,19 @@ end
 set foamClean=$WM_PROJECT_DIR/bin/foamCleanPath
 
 #- prevent local variables from shadowing setenv variables
-unset PATH MANPATH LD_LIBRARY_PATH LD_PRELOAD
+unset PATH MANPATH
+if ($foamDarwin) then
+    unset DYLD_LIBRARY_PATH FOAM_DYLD_LIBRARY_PATH
+else
+    unset LD_LIBRARY_PATH LD_PRELOAD
+endif
 
-if (! $?LD_LIBRARY_PATH ) setenv LD_LIBRARY_PATH ''
+if ($foamDarwin) then
+    if (! $?DYLD_LIBRARY_PATH ) setenv DYLD_LIBRARY_PATH ''
+    setenv FOAM_DYLD_LIBRARY_PATH $DYLD_LIBRARY_PATH
+else
+    if (! $?LD_LIBRARY_PATH ) setenv LD_LIBRARY_PATH ''
+endif
 if (! $?MANPATH) setenv MANPATH ''
 
 #- Clean PATH (path)
@@ -193,8 +206,16 @@ set cleaned=`$foamClean "$PATH" "$foamOldDirs"`
 if ( $status == 0 ) setenv PATH $cleaned
 
 #- Clean LD_LIBRARY_PATH
-set cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"`
-if ( $status == 0 ) setenv LD_LIBRARY_PATH $cleaned
+if ($foamDarwin) then
+    set cleaned=`$foamClean "$FOAM_DYLD_LIBRARY_PATH" "$foamOldDirs"`
+    if ( $status == 0 ) then
+        setenv FOAM_DYLD_LIBRARY_PATH $cleaned
+        setenv DYLD_LIBRARY_PATH $cleaned
+    endif
+else
+    set cleaned=`$foamClean "$LD_LIBRARY_PATH" "$foamOldDirs"`
+    if ( $status == 0 ) setenv LD_LIBRARY_PATH $cleaned
+endif
 
 #- Clean MANPATH
 set cleaned=`$foamClean "$MANPATH" "$foamOldDirs"`
@@ -209,7 +230,11 @@ _foamSource $WM_PROJECT_DIR/etc/config.csh/aliases
 # Source user setup files for optional packages
 # ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.csh/mpi`
-_foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.csh/paraview`
+if ($_foamDarwin) then
+    _foamSource `$WM_PROJECT_DIR/bin/mac/foamEtcFile config.csh/paraview`
+else
+    _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.csh/paraview`
+endif
 _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.csh/ensight`
 
 
@@ -219,9 +244,17 @@ _foamSource `$WM_PROJECT_DIR/bin/foamEtcFile config.csh/ensight`
 set cleaned=`$foamClean "$PATH"`
 if ( $status == 0 ) setenv PATH $cleaned
 
-#- Clean LD_LIBRARY_PATH
-set cleaned=`$foamClean "$LD_LIBRARY_PATH"`
-if ( $status == 0 ) setenv LD_LIBRARY_PATH $cleaned
+#- Clean [FOAM_][DY]LD_LIBRARY_PATH
+if ($foamDarwin) then
+    set cleaned=`$foamClean "$FOAM_DYLD_LIBRARY_PATH"`
+    if ( $status == 0 ) then
+        setenv FOAM_DYLD_LIBRARY_PATH $cleaned
+        setenv DYLD_LIBRARY_PATH $cleaned
+    endif
+else
+    set cleaned=`$foamClean "$LD_LIBRARY_PATH"`
+    if ( $status == 0 ) setenv LD_LIBRARY_PATH $cleaned
+endif
 
 #- Clean MANPATH (trailing ':' to find system pages)
 set cleaned=`$foamClean "$MANPATH"`:
@@ -236,7 +269,7 @@ endif
 
 # cleanup environment:
 # ~~~~~~~~~~~~~~~~~~~~
-unset cleaned foamClean foamOldDirs
+unset cleaned foamClean foamOldDirs foamDarwin
 unalias _foamSource
 
-#------------------------------------------------------------------------------
+#--------------------- vi: set ft=tcsh et sw=4 ts=4 sts=4: ---------------------
diff --git a/src/Allwmake b/src/Allwmake
index d316083b34..0d6f2b252e 100755
--- a/src/Allwmake
+++ b/src/Allwmake
@@ -12,11 +12,13 @@ wmakeCheckPwd "$WM_PROJECT_DIR/src" || {
     exit 1
 }
 
+[ "$(uname -s)" = "Darwin" ] || {
 [ -n "$FOAM_EXT_LIBBIN" ] || {
     echo "Allwmake error: FOAM_EXT_LIBBIN not set"
     echo "    Check the OpenFOAM entries in your dot-files and source them."
     exit 1
 }
+}
 
 # Update OpenFOAM version strings if required
 wmakePrintBuild -check || wrmo OpenFOAM/global/global.o 2>/dev/null
diff --git a/src/OSspecific/POSIX/POSIX.C b/src/OSspecific/POSIX/POSIX.C
index 96f9118a60..48420bae52 100644
--- a/src/OSspecific/POSIX/POSIX.C
+++ b/src/OSspecific/POSIX/POSIX.C
@@ -56,7 +56,11 @@ Description
 #include <sys/socket.h>
 #include <netdb.h>
 #include <dlfcn.h>
+#if defined(darwin64)
+#include <mach-o/dyld.h>
+#else
 #include <link.h>
+#endif
 
 #include <netinet/in.h>
 
@@ -647,9 +651,15 @@ double Foam::highResLastModified
     fileStat fileStatus(name, checkVariants, followLink);
     if (fileStatus.isValid())
     {
+#if defined(darwin64)
+        return
+            fileStatus.status().st_mtime
+          + 1e-9*fileStatus.status().st_atimespec.tv_nsec;
+#else
         return
             fileStatus.status().st_mtime
           + 1e-9*fileStatus.status().st_atim.tv_nsec;
+#endif
     }
     else
     {
@@ -995,7 +1005,7 @@ bool Foam::mvBak(const fileName& src, const std::string& ext)
             fileName dstName(src + "." + ext);
             if (n)
             {
-                sprintf(index, "%02d", n);
+                snprintf(index, 3, "%02d", n);
                 dstName += index;
             }
 
@@ -1241,6 +1251,20 @@ void* Foam::dlOpen(const fileName& lib, const bool check)
             << " : dlopen of " << lib << std::endl;
     }
     void* handle = ::dlopen(lib.c_str(), RTLD_LAZY|RTLD_GLOBAL);
+#if defined(darwin64)
+    if (handle == nullptr && lib.ext() == "so")
+    {
+        fileName fallback_lib = lib.lessExt() + ".dylib";
+        if (check)
+        {
+            WarningIn("dlOpen(const fileName&, const bool)")
+                << "dlOpen: using fallback library name "
+                << fallback_lib
+                << endl;
+        }
+        handle = ::dlopen(fallback_lib.c_str(), RTLD_LAZY|RTLD_GLOBAL);
+    }
+#endif
 
     if (!handle && check)
     {
@@ -1329,6 +1353,7 @@ bool Foam::dlSymFound(void* handle, const std::string& symbol)
 }
 
 
+#if ! defined(darwin64)
 static int collectLibsCallback
 (
     struct dl_phdr_info *info,
@@ -1341,12 +1366,20 @@ static int collectLibsCallback
     ptr->append(info->dlpi_name);
     return 0;
 }
+#endif
 
 
 Foam::fileNameList Foam::dlLoaded()
 {
     DynamicList<fileName> libs;
+#if defined(darwin64)
+    for(uint32_t cnt = 0; cnt < _dyld_image_count(); ++cnt)
+    {
+       libs.append(_dyld_get_image_name(cnt));
+    }
+#else
     dl_iterate_phdr(collectLibsCallback, &libs);
+#endif
     if (POSIX::debug)
     {
         std::cout
diff --git a/src/OSspecific/POSIX/clockTime/clockTime.H b/src/OSspecific/POSIX/clockTime/clockTime.H
index 4319b64b16..9d76efe228 100644
--- a/src/OSspecific/POSIX/clockTime/clockTime.H
+++ b/src/OSspecific/POSIX/clockTime/clockTime.H
@@ -37,6 +37,9 @@ SourceFiles
 #define clockTime_H
 
 #include <sys/types.h>
+#if defined(darwin64)
+#include <sys/time.h>
+#endif
 
 // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
 
diff --git a/src/OSspecific/POSIX/fileStat.C b/src/OSspecific/POSIX/fileStat.C
index ffb26041ca..3cf9650648 100644
--- a/src/OSspecific/POSIX/fileStat.C
+++ b/src/OSspecific/POSIX/fileStat.C
@@ -29,7 +29,9 @@ License
 
 #include <signal.h>
 #include <unistd.h>
+#if ! defined(darwin64)
 #include <sys/sysmacros.h>
+#endif
 
 // * * * * * * * * * * * * * * Static Data Members * * * * * * * * * * * * * //
 
diff --git a/src/OSspecific/POSIX/printStack.C b/src/OSspecific/POSIX/printStack.C
index 84003866dd..487c17a2b3 100644
--- a/src/OSspecific/POSIX/printStack.C
+++ b/src/OSspecific/POSIX/printStack.C
@@ -84,7 +84,11 @@ string pOpen(const string &cmd, label line=0)
 inline word addressToWord(const uintptr_t addr)
 {
     OStringStream nStream;
+    #if defined(darwin64)
+    nStream << "0x" << hex << uint64_t(addr);
+    #else
     nStream << "0x" << hex << addr;
+    #endif
     return nStream.str();
 }
 
@@ -100,9 +104,11 @@ void printSourceFileAndLine
     uintptr_t address = uintptr_t(addr);
     word myAddress = addressToWord(address);
 
+#if ! defined(darwin64)
     if (filename.ext() == "so")
+#endif
     {
-        // Convert address into offset into dynamic library
+        // Convert address into offset
         uintptr_t offset = uintptr_t(info->dli_fbase);
         intptr_t relativeAddress = address - offset;
         myAddress = addressToWord(relativeAddress);
@@ -112,13 +118,40 @@ void printSourceFileAndLine
     {
         string line = pOpen
         (
+#if defined(darwin64)
+            "echo 'image lookup -va " + myAddress + "'"
+          + " | xcrun lldb "
+          + "-O 'target create --no-dependents -a x86_64 "
+          + filename
+          + "' -o '"
+          + "target modules load -f "
+          + filename
+          + " __TEXT 0x0' 2> /dev/null"
+          + " | grep LineEntry"
+#else
             "addr2line -f --demangle=auto --exe "
           + filename
           + " "
           + myAddress,
             1
+#endif
         );
 
+#if defined(darwin64)
+        {
+            regExp re(".+LineEntry: .+: (.+):([0-9]+):[0-9]+");
+            List<std::string> groups;
+            if (!re.match(line, groups))
+            {
+                line = "??:0";
+            }
+            else
+            {
+                line = groups[0] + ":" + groups[1];
+            }
+        }
+#endif
+
         if (line == "")
         {
             os  << " addr2line failed";
@@ -156,9 +189,9 @@ fileName absolutePath(const char* fn)
 }
 
 
-word demangleSymbol(const char* sn)
+string demangleSymbol(const char* sn)
 {
-    word res;
+    string res;
     int st;
     char* cxx_sname = abi::__cxa_demangle
     (
@@ -170,12 +203,12 @@ word demangleSymbol(const char* sn)
 
     if (st == 0 && cxx_sname)
     {
-        res = word(cxx_sname);
+        res = string(cxx_sname);
         free(cxx_sname);
     }
     else
     {
-        res = word(sn);
+        res = string(sn);
     }
 
     return res;
diff --git a/src/OSspecific/POSIX/signals/sigFpe.C b/src/OSspecific/POSIX/signals/sigFpe.C
index f9c05bb04c..ae9099d9de 100644
--- a/src/OSspecific/POSIX/signals/sigFpe.C
+++ b/src/OSspecific/POSIX/signals/sigFpe.C
@@ -37,6 +37,12 @@ License
     #include <malloc.h>
 #endif
 
+#if defined(darwin64)
+#include <xmmintrin.h>
+#include <sys/mman.h>
+#include <unistd.h>
+#endif
+
 #include <limits>
 
 // * * * * * * * * * * * * * * Static Data Members * * * * * * * * * * * * * //
@@ -50,6 +56,26 @@ void Foam::sigFpe::fillNan(UList<scalar>& lst)
 
 bool Foam::sigFpe::mallocNanActive_ = false;
 
+#if defined(darwin64)
+void *(*Foam::sigFpe::oldMalloc_)(struct _malloc_zone_t *zone, size_t size)
+    = NULL;
+
+void *Foam::sigFpe::nanMalloc_(struct _malloc_zone_t *zone, size_t size)
+{
+    void *result;
+
+    result = oldMalloc_(zone, size);
+
+    if (mallocNanActive_)
+    {
+        UList<scalar> lst(reinterpret_cast<scalar*>(result),
+                          size/sizeof(scalar));
+        fillNan(lst);
+    }
+
+    return result;
+}
+#endif
 
 #ifdef LINUX
 extern "C"
@@ -84,7 +110,7 @@ void* Foam::sigFpe::mallocNan(size_t size)
 #endif
 
 
-#ifdef LINUX_GNUC
+#if defined(LINUX_GNUC) || defined(darwin64)
 void Foam::sigFpe::sigHandler(int)
 {
     // Reset old handling
@@ -120,7 +146,7 @@ Foam::sigFpe::~sigFpe()
 {
     if (env("FOAM_SIGFPE"))
     {
-        #ifdef LINUX_GNUC
+        #if defined(LINUX_GNUC) || defined(darwin64)
         // Reset signal
         if
         (
@@ -137,10 +163,24 @@ Foam::sigFpe::~sigFpe()
 
     if (env("FOAM_SETNAN"))
     {
-        #ifdef LINUX
+        #if defined(LINUX) || defined(darwin64)
         // Disable initialisation to NaN
         mallocNanActive_ = false;
         #endif
+
+        #if defined(darwin64)
+        // Restoring old malloc handler
+        if (oldMalloc_ != NULL) {
+            malloc_zone_t *zone = malloc_default_zone();
+
+            if (zone != NULL)
+            {
+                mprotect(zone, getpagesize(), PROT_READ | PROT_WRITE);
+                zone->malloc = oldMalloc_;
+                mprotect(zone, getpagesize(), PROT_READ);
+            }
+        }
+        #endif
     }
 }
 
@@ -160,15 +200,21 @@ void Foam::sigFpe::set(const bool verbose)
     {
         bool supported = false;
 
-        #ifdef LINUX_GNUC
+        #if defined(LINUX_GNUC) || defined(darwin64)
         supported = true;
 
+        #if defined(LINUX_GNUC)
         feenableexcept
         (
             FE_DIVBYZERO
           | FE_INVALID
           | FE_OVERFLOW
         );
+        #endif  // LINUX_GNUC
+        #if defined(darwin64)
+        _mm_setcsr(_MM_MASK_MASK &~
+                   (_MM_MASK_OVERFLOW|_MM_MASK_INVALID|_MM_MASK_DIV_ZERO));
+        #endif
 
         struct sigaction newAction;
         newAction.sa_handler = sigHandler;
@@ -200,10 +246,33 @@ void Foam::sigFpe::set(const bool verbose)
 
     if (env("FOAM_SETNAN"))
     {
-        #ifdef LINUX
+        #if defined(LINUX) || defined(darwin64)
         mallocNanActive_ = true;
         #endif
 
+        #if defined(darwin64)
+        malloc_zone_t *zone = malloc_default_zone();
+
+        if (zone != NULL)
+        {
+            oldMalloc_ = zone->malloc;
+            if
+            (
+                mprotect(zone, getpagesize(), PROT_READ | PROT_WRITE) == 0
+            )
+            {
+                zone->malloc = nanMalloc_;
+                if
+                (
+                    mprotect(zone, getpagesize(), PROT_READ) == 0
+                )
+                {
+                    mallocNanActive_ = true;
+                }
+            }
+        }
+        #endif
+
         if (verbose)
         {
             if (mallocNanActive_)
diff --git a/src/OSspecific/POSIX/signals/sigFpe.H b/src/OSspecific/POSIX/signals/sigFpe.H
index b3fb45c9b0..4cbcb29283 100644
--- a/src/OSspecific/POSIX/signals/sigFpe.H
+++ b/src/OSspecific/POSIX/signals/sigFpe.H
@@ -54,6 +54,10 @@ SourceFiles
     #define LINUX_GNUC
 #endif
 
+#if defined(darwin64)
+#include <malloc/malloc.h>
+#endif
+
 #include "UList.H"
 
 // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
@@ -75,11 +79,15 @@ class sigFpe
 
     // Static Data Members
 
-        #ifdef LINUX_GNUC
+        #if defined(LINUX_GNUC) || defined(darwin64)
         //- Handler for caught signals
         static void sigHandler(int);
         #endif
 
+        #if defined(darwin64)
+        static void *(*oldMalloc_)(struct _malloc_zone_t *zone, size_t size);
+        static void *nanMalloc_(struct _malloc_zone_t *zone, size_t size);
+        #endif
 
 public:
 
@@ -103,7 +111,7 @@ public:
         //- Flag to indicate mallocNan is enabled
         static bool mallocNanActive_;
 
-        #ifdef LINUX
+        #if defined(LINUX) || defined(darwin64)
         //- Malloc function which initialises to NaN
         static void* mallocNan(size_t size);
         #endif
diff --git a/src/OpenFOAM/Make/files b/src/OpenFOAM/Make/files
index de16098a43..148cef7053 100644
--- a/src/OpenFOAM/Make/files
+++ b/src/OpenFOAM/Make/files
@@ -29,11 +29,13 @@ $(chars)/wchar/wcharIO.C
 primitives/direction/directionIO.C
 
 ints = primitives/ints
+$(ints)/uint16/uint16.C
 $(ints)/uint32/uint32.C
 $(ints)/uint32/uint32IO.C
 $(ints)/uint64/uint64.C
 $(ints)/uint64/uint64IO.C
 $(ints)/uint/uintIO.C
+$(ints)/int16/int16.C
 $(ints)/int32/int32.C
 $(ints)/int32/int32IO.C
 $(ints)/int64/int64.C
diff --git a/src/OpenFOAM/containers/Lists/UList/UList.C b/src/OpenFOAM/containers/Lists/UList/UList.C
index b3d4bf03c6..d9b42c8d06 100644
--- a/src/OpenFOAM/containers/Lists/UList/UList.C
+++ b/src/OpenFOAM/containers/Lists/UList/UList.C
@@ -28,6 +28,7 @@ License
 #include "contiguous.H"
 
 #include <algorithm>
+#include <random>
 
 // * * * * * * * * * * * * * * * Member Functions  * * * * * * * * * * * * * //
 
diff --git a/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.C b/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.C
index 5e3fb9b348..d70811306e 100644
--- a/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.C
+++ b/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.C
@@ -346,7 +346,11 @@ Foam::fileName Foam::dynamicCode::codeRelPath() const
 
 Foam::fileName Foam::dynamicCode::libRelPath() const
 {
+#if defined(darwin64)
+    return codeRelPath()/libSubDir_/"lib" + codeName_ + ".dylib";
+#else
     return codeRelPath()/libSubDir_/"lib" + codeName_ + ".so";
+#endif
 }
 
 
diff --git a/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.H b/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.H
index 7aeacaf2a2..def41b811f 100644
--- a/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.H
+++ b/src/OpenFOAM/db/dynamicLibrary/dynamicCode/dynamicCode.H
@@ -219,7 +219,11 @@ public:
         //  Corresponds to codeRoot()/libSubDir()/lib\<codeName\>.so
         fileName libPath() const
         {
+            #if defined(darwin64)
+            return codeRoot_/libSubDir_/"lib" + codeName_ + ".dylib";
+            #else
             return codeRoot_/libSubDir_/"lib" + codeName_ + ".so";
+            #endif
         }
 
         //- Path for specified code name relative to \$FOAM_CASE
diff --git a/src/OpenFOAM/meshes/multiRegion/MultiRegionRefs.C b/src/OpenFOAM/meshes/multiRegion/MultiRegionRefs.C
index aedb31cb22..732cc17104 100644
--- a/src/OpenFOAM/meshes/multiRegion/MultiRegionRefs.C
+++ b/src/OpenFOAM/meshes/multiRegion/MultiRegionRefs.C
@@ -43,7 +43,7 @@ Foam::string::size_type Foam::MultiRegionRefs<Region>::prefixWidth() const
     {
         forAll(regions_, regioni)
         {
-            n = max(n, regionName(regions_[regioni]).size() + 1);
+            n = std::max(n, regionName(regions_[regioni]).size() + 1);
         }
     }
 
diff --git a/src/OpenFOAM/primitives/Scalar/doubleFloat.H b/src/OpenFOAM/primitives/Scalar/doubleFloat.H
index 8c783b4cea..366eb21e96 100644
--- a/src/OpenFOAM/primitives/Scalar/doubleFloat.H
+++ b/src/OpenFOAM/primitives/Scalar/doubleFloat.H
@@ -31,6 +31,46 @@ License
 
 #include <cmath>
 
+#if defined(darwin64)
+inline float j0f(float x) { return float(j0(double(x)));}
+inline float j1f(float x) { return float(j1(double(x)));}
+inline float y0f(float x) { return float(y0(double(x)));}
+inline float y1f(float x) { return float(y1(double(x)));}
+inline float jnf(const int n, const float s) { return float(jn(n, double(s))); }
+inline float ynf(const int n, const float s) { return float(yn(n, double(s))); }
+
+inline long double j0l(long double x)
+{
+    return static_cast<long double>(j0(static_cast<double>(x)));
+}
+
+inline long double j1l(long double x)
+{
+    return static_cast<long double>(j1(static_cast<double>(x)));
+}
+
+inline long double y0l(long double x)
+{
+    return static_cast<long double>(y0(static_cast<double>(x)));
+}
+
+inline long double y1l(float x)
+{
+    return static_cast<long double>(y1(static_cast<double>(x)));
+}
+
+inline long double jnl(const int n, const long double s)
+{
+    return static_cast<long double>(jn(n, static_cast<double>(s)));
+}
+
+inline long double ynl(const int n, const long double s)
+{
+    return static_cast<long double>(yn(n, static_cast<double>(s)));
+}
+
+#endif
+
 // * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
 
 namespace Foam
diff --git a/src/OpenFOAM/primitives/hashes/Hasher/Hasher.C b/src/OpenFOAM/primitives/hashes/Hasher/Hasher.C
index a17bfcf2bf..64ef2df7dd 100644
--- a/src/OpenFOAM/primitives/hashes/Hasher/Hasher.C
+++ b/src/OpenFOAM/primitives/hashes/Hasher/Hasher.C
@@ -457,7 +457,7 @@ static unsigned jenkins_hashbig
             case 4 : a += k[3]; [[fallthrough]];
             case 3 : a += static_cast<uint32_t>(k[2]) << 8; [[fallthrough]];
             case 2 : a += static_cast<uint32_t>(k[1]) << 16; [[fallthrough]];
-            case 1 : a += static_cast<uint32_t>(k[0]) << 24; [[fallthrough]];
+            case 1 : a += static_cast<uint32_t>(k[0]) << 24;
                 break;
             case 0 : return c;
         }
diff --git a/src/OpenFOAM/primitives/ints/int64/int64.H b/src/OpenFOAM/primitives/ints/int64/int64.H
index c39286b996..d4bdd876c2 100644
--- a/src/OpenFOAM/primitives/ints/int64/int64.H
+++ b/src/OpenFOAM/primitives/ints/int64/int64.H
@@ -68,6 +68,11 @@ bool read(const char*, int64_t&);
 Istream& operator>>(Istream&, int64_t&);
 Ostream& operator<<(Ostream&, const int64_t);
 
+#if defined(darwin64)
+Istream& operator>>(Istream& is, long& val);
+Ostream& operator<<(Ostream& os, const long val);
+#endif
+
 inline void writeEntry(Ostream& os, const int64_t value)
 {
     os << value;
diff --git a/src/OpenFOAM/primitives/ints/int64/int64IO.C b/src/OpenFOAM/primitives/ints/int64/int64IO.C
index 1b197b5c26..d49b8208bd 100644
--- a/src/OpenFOAM/primitives/ints/int64/int64IO.C
+++ b/src/OpenFOAM/primitives/ints/int64/int64IO.C
@@ -99,5 +99,17 @@ Foam::Ostream& Foam::operator<<(Ostream& os, const int64_t i)
     return os;
 }
 
+#if defined(darwin64)
+Foam::Istream& Foam::operator>>(Istream& is, long& val)
+{
+    return operator>>(is, reinterpret_cast<int64_t&>(val));
+}
+
+Foam::Ostream& Foam::operator<<(Ostream& os, const long val)
+{
+    return (os << int64_t(val));
+}
+#endif
+
 
 // ************************************************************************* //
diff --git a/src/OpenFOAM/primitives/ints/uint/uint.H b/src/OpenFOAM/primitives/ints/uint/uint.H
index 0698df700c..fe3828e06f 100644
--- a/src/OpenFOAM/primitives/ints/uint/uint.H
+++ b/src/OpenFOAM/primitives/ints/uint/uint.H
@@ -35,6 +35,7 @@ SourceFiles
 #ifndef uint_H
 #define uint_H
 
+#include "uint16.H"
 #include "uint32.H"
 #include "uint64.H"
 
diff --git a/src/OpenFOAM/primitives/ints/uint64/uint64.H b/src/OpenFOAM/primitives/ints/uint64/uint64.H
index 31d2a0aa36..008a00c465 100644
--- a/src/OpenFOAM/primitives/ints/uint64/uint64.H
+++ b/src/OpenFOAM/primitives/ints/uint64/uint64.H
@@ -68,6 +68,10 @@ bool read(const char*, uint64_t&);
 Istream& operator>>(Istream&, uint64_t&);
 Ostream& operator<<(Ostream&, const uint64_t);
 
+#if defined(darwin64)
+Ostream& operator<<(Ostream& os, const unsigned long val);
+#endif
+
 //- Template specialisation for pTraits<uint64_t>
 template<>
 class pTraits<uint64_t>
diff --git a/src/OpenFOAM/primitives/ints/uint64/uint64IO.C b/src/OpenFOAM/primitives/ints/uint64/uint64IO.C
index 7c6c077088..a2d01e160c 100644
--- a/src/OpenFOAM/primitives/ints/uint64/uint64IO.C
+++ b/src/OpenFOAM/primitives/ints/uint64/uint64IO.C
@@ -96,5 +96,13 @@ Foam::Ostream& Foam::operator<<(Ostream& os, const uint64_t i)
     return os;
 }
 
+#if defined(darwin64)
+Foam::Ostream& Foam::operator<<(Ostream& os, const unsigned long val)
+{
+    os << uint64_t(val);
+    return os;
+}
+#endif
+
 
 // ************************************************************************* //
diff --git a/src/OpenFOAM/primitives/strings/word/wordIOList.C b/src/OpenFOAM/primitives/strings/word/wordIOList.C
index 726885e033..155f5b1e5c 100644
--- a/src/OpenFOAM/primitives/strings/word/wordIOList.C
+++ b/src/OpenFOAM/primitives/strings/word/wordIOList.C
@@ -54,7 +54,7 @@ void Foam::printTable
     {
         forAll(wll, i)
         {
-            columnWidth[j] = max(columnWidth[j], wll[i][j].size());
+            columnWidth[j] = std::max(columnWidth[j], wll[i][j].size());
         }
     }
 
diff --git a/src/fvAgglomerationMethods/Allwmake b/src/fvAgglomerationMethods/Allwmake
index dcef4328c2..48abdf0204 100755
--- a/src/fvAgglomerationMethods/Allwmake
+++ b/src/fvAgglomerationMethods/Allwmake
@@ -4,10 +4,14 @@ cd ${0%/*} || exit 1    # Run from this directory
 # Parse arguments for library compilation
 . $WM_PROJECT_DIR/wmake/scripts/AllwmakeParseArguments
 
-export ParMGridGen=$WM_THIRD_PARTY_DIR/ParMGridGen-1.0
-
-if [ -e "$FOAM_LIBBIN/libMGridGen.so" ]
+if [ "$(uname -s)" = "Darwin" ]
+then
+    [ -e "/usr/local/opt/parmgridgen/lib/libmgrid.a" -a \
+        "$WM_LABEL_SIZE" -ne "64" ] \
+        && wmake $targetType MGridGenGamgAgglomeration
+elif [ -e "$FOAM_LIBBIN/libMGridGen.so" ]
 then
+    export ParMGridGen=$WM_THIRD_PARTY_DIR/ParMGridGen-1.0
     wmake $targetType MGridGenGamgAgglomeration
 fi
 
diff --git a/src/fvAgglomerationMethods/MGridGenGamgAgglomeration/Make/options b/src/fvAgglomerationMethods/MGridGenGamgAgglomeration/Make/options
index 69f63dbe57..18d31d4220 100644
--- a/src/fvAgglomerationMethods/MGridGenGamgAgglomeration/Make/options
+++ b/src/fvAgglomerationMethods/MGridGenGamgAgglomeration/Make/options
@@ -7,9 +7,15 @@ endif
 
 EXE_INC = \
     -I$(LIB_SRC)/finiteVolume/lnInclude \
-    -I$(ParMGridGen)/MGridGen/Lib/lnInclude \
-    -I$(ParMGridGen)/MGridGen/IMlib/lnInclude \
     $(TYPE_REAL)
 
-LIB_LIBS = \
-    -L$(FOAM_EXT_LIBBIN) -lMGridGen
+LIB_LIBS =
+
+ifeq ($(shell uname -s),Darwin)
+LIB_LIBS = -L/usr/local/opt/parmgridgen/lib -lmgrid
+EXE_INC += -I/usr/local/opt/parmgridgen/include
+else
+LIB_LIBS = -L$(FOAM_EXT_LIBBIN) -lMGridGen
+EXE_INC += -I$(ParMGridGen)/MGridGen/Lib/lnInclude
+EXE_INC += -I$(ParMGridGen)/MGridGen/IMlib/lnInclude
+endif
diff --git a/src/parallel/decompose/Allwmake b/src/parallel/decompose/Allwmake
index c2a0a6629e..170516d911 100755
--- a/src/parallel/decompose/Allwmake
+++ b/src/parallel/decompose/Allwmake
@@ -6,7 +6,9 @@ cd ${0%/*} || exit 1    # Run from this directory
 
 
 # Get SCOTCH_VERSION, SCOTCH_ARCH_PATH
-if settings=`$WM_PROJECT_DIR/bin/foamEtcFile config.sh/scotch`
+_scotchConf="config.sh/scotch"
+[ "$(uname -s)" = "Darwin" ] && _scotchConf="config.sh/mac/scotch"
+if settings=`$WM_PROJECT_DIR/bin/foamEtcFile "$_scotchConf"`
 then
     . $settings
     echo "    using SCOTCH_ARCH_PATH=$SCOTCH_ARCH_PATH"
@@ -15,6 +17,7 @@ else
     echo "    Error: no config.sh/scotch settings"
     echo
 fi
+unset _scotchConf
 
 
 # Define how to create an mpi-versioned library of $targetType
diff --git a/src/parallel/decompose/metisDecomp/Allwmake b/src/parallel/decompose/metisDecomp/Allwmake
index c52b1e52a0..46df365ab8 100755
--- a/src/parallel/decompose/metisDecomp/Allwmake
+++ b/src/parallel/decompose/metisDecomp/Allwmake
@@ -4,12 +4,20 @@ cd ${0%/*} || exit 1    # Run from this directory
 # Parse arguments for library compilation
 . $WM_PROJECT_DIR/wmake/scripts/AllwmakeParseArguments
 
+_so_ext="so"
+_metis_conf="config.sh/metis"
+if [ "$(uname -s)" = "Darwin" ]
+then
+    _so_ext="dylib"
+    _metis_conf="config.sh/mac/metis"
+fi
+
 # get METIS_VERSION, METIS_ARCH_PATH
-if settings=`$WM_PROJECT_DIR/bin/foamEtcFile config.sh/metis`
+if settings=`$WM_PROJECT_DIR/bin/foamEtcFile $_metis_conf`
 then
     . $settings
     echo "    using METIS_ARCH_PATH=$METIS_ARCH_PATH"
-    if [ -r $METIS_ARCH_PATH/lib/libmetis.so ]
+    if [ -r $METIS_ARCH_PATH/lib/libmetis.$_so_ext ]
     then
         wmake $targetType
     fi
@@ -19,5 +27,7 @@ else
     echo
 fi
 
+unset _so_ext _metis_conf
+
 
 #------------------------------------------------------------------------------
diff --git a/src/parallel/decompose/ptscotchDecomp/Make/options b/src/parallel/decompose/ptscotchDecomp/Make/options
index 2af0fddac9..d800c63fbe 100644
--- a/src/parallel/decompose/ptscotchDecomp/Make/options
+++ b/src/parallel/decompose/ptscotchDecomp/Make/options
@@ -3,15 +3,17 @@
 EXE_INC = \
     $(PFLAGS) $(PINC) \
     -I$(FOAM_SRC)/Pstream/mpi/lnInclude \
-    -I$(SCOTCH_ARCH_PATH)/include/$(FOAM_MPI) \
-    -I$(SCOTCH_ARCH_PATH)/include \
-    -I/usr/include/scotch \
     -I../decompositionMethods/lnInclude
 
 LIB_LIBS = \
-    -L$(SCOTCH_ARCH_PATH)/lib \
-    -L$(FOAM_EXT_LIBBIN)/$(FOAM_MPI) \
     -lptscotch \
     -lptscotcherrexit \
-    -lscotch \
-    -lrt
+    -lscotch
+
+ifneq ("$(SO)","dylib")
+EXE_INC += -I$(SCOTCH_ARCH_PATH)/include/$(FOAM_MPI) -I/usr/include/scotch
+LIB_LIBS += -L$(FOAM_EXT_LIBBIN)/$(FOAM_MPI) -lrt
+else
+EXE_INC += -I$(SCOTCH_ARCH_PATH)/include
+LIB_LIBS += -L$(SCOTCH_ARCH_PATH)/lib
+endif
diff --git a/src/parallel/decompose/scotchDecomp/Make/options b/src/parallel/decompose/scotchDecomp/Make/options
index 038f88d5f7..bb8abb485f 100644
--- a/src/parallel/decompose/scotchDecomp/Make/options
+++ b/src/parallel/decompose/scotchDecomp/Make/options
@@ -6,12 +6,14 @@
 EXE_INC = \
     $(PFLAGS) $(PINC) \
     -I$(SCOTCH_ARCH_PATH)/include \
-    -I/usr/include/scotch \
     -I../decompositionMethods/lnInclude
 
 LIB_LIBS = \
     -L$(SCOTCH_ARCH_PATH)/lib \
-    -L$(FOAM_EXT_LIBBIN) \
     -lscotch \
-    -lscotcherrexit \
-    -lrt
+    -lscotcherrexit
+
+ifneq ("$(shell uname -s)","Darwin")
+EXE_INC += -I/usr/include/scotch
+LIB_LIBS += -L$(FOAM_EXT_LIBBIN) -lrt
+endif
diff --git a/src/parallel/parallel/domainDecomposition.C b/src/parallel/parallel/domainDecomposition.C
index f9b5912802..1e22d4920f 100644
--- a/src/parallel/parallel/domainDecomposition.C
+++ b/src/parallel/parallel/domainDecomposition.C
@@ -883,7 +883,7 @@ void Foam::domainDecomposition::writeComplete(const bool doSets) const
        .writeOpt() == IOobject::AUTO_WRITE;
 
     // Set the precision of the points data to be min 10
-    IOstream::defaultPrecision(max(10u, IOstream::defaultPrecision()));
+    IOstream::defaultPrecision(std::max(10u, IOstream::defaultPrecision()));
 
     // Write the complete mesh
     completeMesh().write();
@@ -1109,7 +1109,7 @@ void Foam::domainDecomposition::writeProcs(const bool doSets) const
         const fvMesh& procMesh = procMeshes_[proci];
 
         // Set the precision of the points data to be min 10
-        IOstream::defaultPrecision(max(10u, IOstream::defaultPrecision()));
+        IOstream::defaultPrecision(std::max(10u, IOstream::defaultPrecision()));
 
         // Write the processor mesh
         procMesh.write();
diff --git a/src/parallel/parallel/domainDecompositionDecompose.C b/src/parallel/parallel/domainDecompositionDecompose.C
index 1047c2b202..d4eb5e37fb 100644
--- a/src/parallel/parallel/domainDecompositionDecompose.C
+++ b/src/parallel/parallel/domainDecompositionDecompose.C
@@ -1160,7 +1160,7 @@ void Foam::domainDecomposition::decompose()
                 << "    Number of cells = " << procMesh.nCells()
                 << endl;
 
-            maxProcCells = max(maxProcCells, procMesh.nCells());
+            maxProcCells = std::max(maxProcCells, procMesh.nCells());
 
             label nBoundaryFaces = 0;
             label nProcPatches = 0;
@@ -1195,8 +1195,8 @@ void Foam::domainDecomposition::decompose()
 
             totProcFaces += nProcFaces;
             totProcPatches += nProcPatches;
-            maxProcPatches = max(maxProcPatches, nProcPatches);
-            maxProcFaces = max(maxProcFaces, nProcFaces);
+            maxProcPatches = std::max(maxProcPatches, nProcPatches);
+            maxProcFaces = std::max(maxProcFaces, nProcFaces);
         }
     }
 
diff --git a/src/parallel/parallel/domainDecompositionNonConformal.C b/src/parallel/parallel/domainDecompositionNonConformal.C
index 0868913622..437e0d3329 100644
--- a/src/parallel/parallel/domainDecompositionNonConformal.C
+++ b/src/parallel/parallel/domainDecompositionNonConformal.C
@@ -457,7 +457,7 @@ void Foam::domainDecomposition::unconformComplete()
                   : procNccPatchi;
 
                 const label size =
-                    max
+                    std::max
                     (
                         max(mag(faceAddressingBf[procNccPatchi])),
                         polyFacesBf[completeNccPatchi].size()
diff --git a/src/renumber/SloanRenumber/Make/options b/src/renumber/SloanRenumber/Make/options
index cf6e548615..e3b7efff8a 100644
--- a/src/renumber/SloanRenumber/Make/options
+++ b/src/renumber/SloanRenumber/Make/options
@@ -5,7 +5,19 @@ EXE_INC = \
     -I$(LIB_SRC)/renumber/renumberMethods/lnInclude
 
 LIB_LIBS = \
-    -L$(BOOST_ARCH_PATH)/lib -lboost_system \
+    -L$(BOOST_ARCH_PATH)/lib \
     -lmeshTools \
     -ldecompositionMethods \
     -lrenumberMethods
+
+ifeq ("$(shell uname -s)","Darwin")
+SO = dylib
+else
+SO = so
+endif
+
+ifneq ("$(wildcard $(BOOST_ARCH_PATH)/lib/libboost_system-mt.$(SO))","")
+LIB_LIBS += -lboost_system-mt
+else
+LIB_LIBS += -lboost_system
+endif
diff --git a/src/thermophysicalModels/basic/basicThermo/basicThermo.C b/src/thermophysicalModels/basic/basicThermo/basicThermo.C
index 55989aa535..41cf694834 100644
--- a/src/thermophysicalModels/basic/basicThermo/basicThermo.C
+++ b/src/thermophysicalModels/basic/basicThermo/basicThermo.C
@@ -100,7 +100,7 @@ Foam::wordList Foam::basicThermo::splitThermoName
         }
         else if ((endc = thermoName.find(',', beg)) != string::npos)
         {
-            end = min(endb, endc);
+            end = std::min(endb, endc);
         }
         else
         {
diff --git a/wmake/makefiles/files b/wmake/makefiles/files
index 20c2797c60..cd39b339ce 100644
--- a/wmake/makefiles/files
+++ b/wmake/makefiles/files
@@ -1,4 +1,4 @@
-#----------------------------*- makefile-gmake -*------------------------------
+ #----------------------------*-makefile-gmake -*------------------------------
 # =========                 |
 # \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox
 #  \\    /   O peration     | Website:  https://openfoam.org
diff --git a/wmake/makefiles/general b/wmake/makefiles/general
index e549260f3b..fb23b8ee24 100644
--- a/wmake/makefiles/general
+++ b/wmake/makefiles/general
@@ -88,7 +88,11 @@ endif
 LIB             = libNULL
 
 # Shared library extension
+ifeq ("$(shell uname -s)","Darwin")
+SO              = dylib
+else
 SO              = so
+endif
 
 # Project executable
 EXE             = $(WM_PROJECT).out
diff --git a/wmake/rules/General/transform b/wmake/rules/General/transform
index efb86df866..f7caf93843 100644
--- a/wmake/rules/General/transform
+++ b/wmake/rules/General/transform
@@ -31,7 +31,6 @@ $(OBJECTS_DIR)/%.dep : %
 	@$(WMAKE_BIN)/wmkdep \
 		-R '$(OBJECTS_DIR)/' '$$(OBJECTS_DIR)/' \
 		-R '$(WM_PROJECT_DIR)/' '$$(WM_PROJECT_DIR)/' \
-		-R '$(WM_THIRD_PARTY_DIR)/' '$$(WM_THIRD_PARTY_DIR)/' \
 		$(LIB_HEADER_DIRS) $< $@
 
 #------------------------------------------------------------------------------
diff --git a/wmake/src/Makefile b/wmake/src/Makefile
index a0d87a84e7..16279c0006 100644
--- a/wmake/src/Makefile
+++ b/wmake/src/Makefile
@@ -52,6 +52,8 @@ WM_COMPILE_OPTION = Opt
 GENERAL_RULES   = $(WM_DIR)/rules/General
 include $(GENERAL_RULES)/general
 
+cFLAGS += -Wno-unused-function
+
 
 #------------------------------------------------------------------------------
 # Targets
diff --git a/wmake/wmake b/wmake/wmake
index 307114655d..24becb4844 100755
--- a/wmake/wmake
+++ b/wmake/wmake
@@ -122,6 +122,11 @@ useAllCores()
         WM_NCOMPPROCS=1
     fi
 
+    if [ -n "$(sysctl -en hw.ncpu)" ]
+    then
+        WM_NCOMPPROCS=$(sysctl -en hw.ncpu)
+    fi
+
     export WM_NCOMPPROCS
 }
 
diff --git a/wmake/wmakeLnInclude b/wmake/wmakeLnInclude
index 300aba62a4..4954fc9656 100755
--- a/wmake/wmakeLnInclude
+++ b/wmake/wmakeLnInclude
@@ -173,10 +173,23 @@ filter()
     shift
 }
 
+if [ "$(uname -s)" = "Darwin" ]; then
+# Implementation is taken from: http://mywiki.wooledge.org/BashFAQ/001
+while IFS= read -r; do pruneNames+=("$REPLY"); done < <(filter name lnInclude Make config noLink)
+[[ $REPLY ]] && pruneNames+=("$REPLY")
+# We use two different arrays instead of original single array implementation
+while IFS= read -r; do prunePathsPrime+=("$REPLY"); done < <(find .. -mindepth 2 -type d -name Make -exec dirname "{}" \+)
+[[ $REPLY ]] && prunePathsPrime+=("$REPLY")
+while IFS= read -r; do prunePaths+=("$REPLY"); done < <(filter path "${prunePathsPrime[@]}")
+[[ $REPLY ]] && prunePaths+=("$REPLY")
+while IFS= read -r; do matchNames+=("$REPLY"); done < <(filter name '*.[CHh]' '*.[ch]xx' '*.[ch]pp' '*.type')
+[[ $REPLY ]] && matchNames+=("$REPLY")
+else
 mapfile -t pruneNames < <(filter name lnInclude Make config noLink)
 mapfile -t prunePaths < <(find .. -mindepth 2 -type d -name Make -printf '%h\n')
 mapfile -t prunePaths < <(filter path "${prunePaths[@]}")
 mapfile -t matchNames < <(filter name '*.[CHh]' '*.[ch]xx' '*.[ch]pp' '*.type')
+fi
 
 find .. \
     \( "${pruneNames[@]}" -o "${prunePaths[@]}" \) -prune \
diff --git a/wmake/wmakeLnIncludeAll b/wmake/wmakeLnIncludeAll
index 6a119d259e..0bf0eaed15 100755
--- a/wmake/wmakeLnIncludeAll
+++ b/wmake/wmakeLnIncludeAll
@@ -128,6 +128,7 @@ then
     for d in $includeDirs
     do [ ! -d "$d" ]
        path=$(eval echo "$d")
+       [ -d "$path" ] || continue
        if [ ! -d "$path/lnInclude" ]
        then
            [ $printed ] || echo "$Script: running wmakeLnInclude on dependent libraries:"
